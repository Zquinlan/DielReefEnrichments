# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
View(eclipseMeanDeplete)
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 10, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
pdf('plots/exampleDepletoliteNetworks.pdf', width = 20, height = 30)
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
dev.off()
# VIZUALIZATION -- allCompounds View --------------------------------------
eclipseDfDeplete <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('280', '1961', '1226', '1072', '5639', '141', '2023', '5247', '21', '343', '1907', '2386'),
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseMeanDeplete <- eclipseDfDeplete%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
View(netViews%>% filter(network == 11226))
View(netViews%>% filter(network == 1226))
View(depletion_hc%>% filter(network == 1226))
head(depletion_hc)
View(depletion_hc%>% filter(netEcoNet == 1226))
View(depletion_hc%>% filter(netEcoNet %like% '%1226'))
View(depletion_hc%>% filter(netEcoNet %like% '%1266'))
# VIZUALIZATION -- allCompounds View --------------------------------------
eclipseDfDeplete <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('280', '1961', '1266', '1072', '5639', '141', '2023', '5247', '21', '343', '1907', '2386'),
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseDfRecalcitrant <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('165', '814', '247', '147', '1633', '673', '1337', '3032', '2023', '2064', '664', '5084'),
activity == 'recalcitrant')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseMeanDeplete <- eclipseDfDeplete%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
View(depletion_hc%>% filter(netEcoNet %like% '%1072'))
# VIZUALIZATION -- allCompounds View --------------------------------------
eclipseDfDeplete <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('280', '1961', '1969', '1072', '5639', '141', '2023', '5247', '21', '343', '1907', '2386'),
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseDfRecalcitrant <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('165', '814', '247', '147', '1633', '673', '1337', '3032', '2023', '2064', '664', '5084'),
activity == 'recalcitrant')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseMeanDeplete <- eclipseDfDeplete%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
# VIZUALIZATION -- allCompounds View --------------------------------------
eclipseDfDeplete <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('280', '1961', '1969', '1072', '5639', '336', '141', '2023', '5247', '21', '343', '1907', '2386'),
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
# VIZUALIZATION -- allCompounds View --------------------------------------
eclipseDfDeplete <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('280', '1961', '1969', '1072', '5039', '336', '141', '2023', '5247', '21', '343', '1907', '2386'),
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseDfRecalcitrant <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('165', '814', '247', '147', '1633', '673', '1337', '3032', '2023', '2064', '664', '5084'),
activity == 'recalcitrant')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseMeanDeplete <- eclipseDfDeplete%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
# VIZUALIZATION -- allCompounds View --------------------------------------
eclipseDfDeplete <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('280', '1961', '1969', '1072', '437', '141', '2023', '3585', '21', '343', '1907', '2386'),
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseDfRecalcitrant <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('165', '814', '247', '147', '1633', '673', '1337', '3032', '2023', '2064', '664', '5084'),
activity == 'recalcitrant')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseMeanDeplete <- eclipseDfDeplete%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
# VIZUALIZATION -- allCompounds View --------------------------------------
eclipseDfDeplete <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('280', '1961', '1969', '1072', '437', '141', '2023', '3585', '21', '343', '1907', '2261'),
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseDfRecalcitrant <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('165', '814', '247', '147', '1633', '673', '1337', '3032', '2023', '2064', '664', '5084'),
activity == 'recalcitrant')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseMeanDeplete <- eclipseDfDeplete%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
pdf('plots/exampleDepletoliteNetworks.pdf', width = 20, height = 30)
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
dev.off()
pdf('plots/exampleDepletoliteNetworks.pdf', width = 20, height = 30)
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
dev.off()
# VIZUALIZATION -- allCompounds View --------------------------------------
eclipseDfDeplete <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('280', '1961', '1969', '1072', '437', '199', '2023', '3585', '21', '343', '1907', '2261'),
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseDfRecalcitrant <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('165', '814', '247', '147', '1633', '673', '1337', '3032', '2023', '2064', '664', '5084'),
activity == 'recalcitrant')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseMeanDeplete <- eclipseDfDeplete%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
# VIZUALIZATION -- allCompounds View --------------------------------------
eclipseDfDeplete <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('280', '1961', '1969', '1072', '437', '141', '2023', '3585', '21', '343', '1907', '2261'),
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseDfRecalcitrant <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('165', '814', '247', '147', '1633', '673', '1337', '3032', '2023', '2064', '664', '5084'),
activity == 'recalcitrant')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseMeanDeplete <- eclipseDfDeplete%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
eclipseDfRecalcitrant%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.5) +
geom_point(data = eclipseMeanRecal, mapping = aes(color = Organism, shape = DayNight), stat = 'identity', size = 5) +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
scale_shape_manual(values = c(16, 1)) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
eclipseMeanRecal <- eclipseDfRecalcitrant%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
pdf('plots/exampleRecalcitrantNetworks.pdf', width = 20, height = 20)
eclipseDfRecalcitrant%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.5) +
geom_point(data = eclipseMeanRecal, mapping = aes(color = Organism, shape = DayNight), stat = 'identity', size = 5) +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
scale_shape_manual(values = c(16, 1)) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
dev.off()
eclipseDfRecalcitrant%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.5) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
scale_shape_manual(values = c(16, 1)) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
eclipseDfRecalcitrant <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(network %in% c('165', '814', '247', '147', '1633', '673', '1337', '3032', '2023', '2064', '664', '5084'),
activity == 'recalcitrant')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
eclipseMeanRecal <- eclipseDfRecalcitrant%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
eclipseDfRecalcitrant%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.5) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
scale_shape_manual(values = c(16, 1)) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
#
# VIZUALIZATIONS -- Organic Acids -----------------------------------------
netViews%>%
filter(superclass_consensus %like% c('%acids%'),
# count > 2,
activity == 'depletolite')%>%
ggplot(aes(meanProd, val, color = Organism, shape = DayNight)) +
geom_point(stat = 'identity', size = 5) +
scale_color_manual(values = org_colors_no_water) +
scale_shape_manual(values = c(16, 1)) +
scale_x_log10() +
facet_wrap(~network, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'T0:TF XIC change') +
gen_theme() +
theme(legend.position = 'None')
labileAcids <- netViews%>%
mutate(meanProd = log10(meanProd + 1))%>%
filter(superclass_consensus %like% '%acids%',
# filter(network %in% c('199', '437', '1969', '1072', '21',
#                       '324', '2261',  '1907', '1758', '2023',
#                       '280', '966'),
activity == 'depletolite')%>%
unite(ellipse, c('Organism', 'DayNight'), sep = '_', remove = FALSE) %>%
unite(facet, c('network', 'class_consensus', 'subclass_consensus'), sep = '_', remove = FALSE)
labileAcidMeans <- labileAcids%>%
group_by(ellipse, Organism, DayNight, facet)%>%
summarize_if(is.numeric, mean)%>%
ungroup()%>%
mutate(shape = case_when(DayNight == 'Day' ~ '\u2600',
TRUE ~ emoji('crescent_moon')))
pdf('plots/labileAcids.pdf', width = 20, height = 30)
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
dev.off()
View(labileAcids)
labileAcids%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = labileAcidMeans, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
pdf('plots/labileAcids.pdf', width = 20, height = 30)
labileAcids%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = labileAcidMeans, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
dev.off()
pdf('plots/labileAcids.pdf', width = 20, height = 50)
labileAcids%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = labileAcidMeans, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
dev.off()
labileAcids%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = labileAcidMeans, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
eclipseDfDeplete%>%
ggplot(aes(meanProd, val)) +
ggalt::geom_encircle(aes(fill = Organism, color = Organism, group = ellipse), alpha = 0.3, s_shape = 0.2, expand = 0.1) +
geom_text(data = eclipseMeanDeplete, mapping = aes(label = shape, color = Organism), stat = 'identity', cex = 13, family= 'OpenSansEmoji') +
scale_fill_manual(values = org_colors_no_water) +
scale_color_manual(values = org_colors_no_water) +
# scale_shape_manual(values = c('\u2600', emoji('crescent_moon'))) +
facet_wrap(~facet, ncol = 2, scales = 'free_y') +
labs(x = 'T0 average production (XIC)', y = 'Utilization') +
gen_theme() +
theme(legend.position = 'None')
View(eclipseDfDeplete)
View(eclipseDfDeplete%>% filter(ecoNetConsensus %like% '%heterocyclic%'))
